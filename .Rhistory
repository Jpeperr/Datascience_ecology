getwd()
# PACKAGES
auto_install_package <- function(package_names_list){
for(package_name in package_names_list){
if(!(package_name %in% rownames(installed.packages()))){
install.packages(package_name, dependencies = TRUE)
}
library(package_name, character.only = TRUE)
}
}
auto_install_package(c("tidyverse", "here", "phenofit", "bfast", "phenocamr", "phenopix",
"imager", "tools"))
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R1-01"   # <-- replace with your image folder path
roi_folder <- "data/raw/data/roi_output" # folder to save ROI image previews
roi_file <- "data/raw/data/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# PACKAGES
auto_install_package <- function(package_names_list){
for(package_name in package_names_list){
if(!(package_name %in% rownames(installed.packages()))){
install.packages(package_name, dependencies = TRUE)
}
library(package_name, character.only = TRUE)
}
}
auto_install_package(c("tidyverse", "phenofit", "bfast", "phenocamr", "phenopix",
"imager", "tools"))
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R1-01"   # <-- replace with your image folder path
roi_folder <- "data/raw/data/roi_output" # folder to save ROI image previews
roi_file <- "data/raw/data/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_dir,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.jpg'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R0-01"   # <-- replace with your image folder path
roi_folder <- "data/raw/data/roi_output" # folder to save ROI image previews
roi_file <- "data/raw/data/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_dir,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.jpg'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.jpg'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.JPG'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
getwd()
# PACKAGES
auto_install_package <- function(package_names_list){
for(package_name in package_names_list){
if(!(package_name %in% rownames(installed.packages()))){
install.packages(package_name, dependencies = TRUE)
}
library(package_name, character.only = TRUE)
}
}
auto_install_package(c("tidyverse", "phenofit", "bfast", "phenocamr", "phenopix",
"imager", "tools"))
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R0-01"   # <-- replace with your image folder path
roi_folder <- "data/processed/roi_output" # folder to save ROI image previews
roi_file <- "data/processed/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.JPG'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R0-01"   # <-- replace with your image folder path
roi_folder <- "data/processed/roi_output" # folder to save ROI image previews
roi_file <- "data/processed/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.JPG'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
for (filename in image_files) {
# Extract the filename from the path
filename_clean <- basename(filename)
# Preprocess the filename to replace 'h', 'm', and 's' with appropriate symbols or remove them
filename_clean <- gsub("h", "-", filename_clean)  # replace 'h' with ':'
filename_clean <- gsub("m", "-", filename_clean)  # replace 'm' with ':'
filename_clean <- gsub("00", "00", filename_clean)  # keep '00' if needed
# Get the full path of the new filename
new_filename <- file.path(dirname(filename), filename_clean)
# Rename the original file to the new filename (this will overwrite the original file)
file.rename(filename, new_filename)
# Print renaming info (optional, to track changes)
print(paste("Renamed:", filename, "to", new_filename))
}
y
# PACKAGES
auto_install_package <- function(package_names_list){
for(package_name in package_names_list){
if(!(package_name %in% rownames(installed.packages()))){
install.packages(package_name, dependencies = TRUE)
}
library(package_name, character.only = TRUE)
}
}
auto_install_package(c("tidyverse", "phenofit", "bfast", "phenocamr", "phenopix",
"imager", "tools"))
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R0-01"   # <-- replace with your image folder path
roi_folder <- "data/processed/roi_output" # folder to save ROI image previews
roi_file <- "data/processed/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.JPG'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.JPG'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
# PACKAGES
auto_install_package <- function(package_names_list){
for(package_name in package_names_list){
if(!(package_name %in% rownames(installed.packages()))){
install.packages(package_name, dependencies = TRUE)
}
library(package_name, character.only = TRUE)
}
}
auto_install_package(c("tidyverse", "phenofit", "bfast", "phenocamr", "phenopix",
"imager", "tools"))
# Step 1: Set your paths
img_folder <- "data/raw/data/H5R0-01"   # <-- replace with your image folder path
roi_folder <- "data/processed/roi_output" # folder to save ROI image previews
roi_file <- "data/processed/roi_output/roi.data.Rdata" # path to saved ROI definition
vi_folder <- "data/processed/vi_output"             # optional: where to save VI output
date.code <- "yyyy-mm-dd-HH-MM-SS"
# Step 2: Get list of image files
image_files <- list.files(img_folder, pattern = "\\.JPG$", full.names = TRUE)
# Step 3: Draw ROI or load existing ROI
if (!file.exists(roi_file)) {
# Define the names for the ROIs (adjust if needed)
roi_names <- c("ROI1")  # Adjust ROI names as needed
# Call DrawMULTIROI function to draw ROI on the image
roi <- DrawMULTIROI(
path_img_ref = image_files[1],  # Path to the first image
path_ROIs = roi_folder,            # Directory to store ROI and coordinates
nroi = 1,                       # Number of ROIs to draw
roi.names = roi_names,          # Define ROI names
file.type = '.JPG'              # File type for images
)
# Save the ROI data as an RData file
save(roi, file = roi_file)
} else {
# Load the existing ROI data from the saved RData file
load(roi_file)
}
